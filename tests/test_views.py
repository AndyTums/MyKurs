from src.main import info_by_date


def test_views():
    assert info_by_date("20-05-2020 22:20:32") == {'Приветствие': 'Добрый вечер', 'Транзакции': [
        {'Номер карты': '*7197', 'Сумма': 135.0, 'Кэшбэк': 1.35},
        {'Номер карты': '*7197', 'Сумма': 114.6, 'Кэшбэк': 1.15},
        {'Номер карты': '*7197', 'Сумма': 52.9, 'Кэшбэк': 0.53},
        {'Номер карты': '*7197', 'Сумма': 131.18, 'Кэшбэк': 1.31},
        {'Номер карты': '*7197', 'Сумма': 100.0, 'Кэшбэк': 1.0},
        {'Номер карты': '*7197', 'Сумма': 295.7, 'Кэшбэк': 2.96},
        {'Номер карты': '*7197', 'Сумма': 59.6, 'Кэшбэк': 0.6},
        {'Номер карты': '*4556', 'Сумма': 815.0, 'Кэшбэк': 8.15},
        {'Номер карты': '*7197', 'Сумма': 135.0, 'Кэшбэк': 1.35},
        {'Номер карты': '*7197', 'Сумма': 23.0, 'Кэшбэк': 0.23},
        {'Номер карты': '*7197', 'Сумма': 26.64, 'Кэшбэк': 0.27},
        {'Номер карты': '*7197', 'Сумма': 106.56, 'Кэшбэк': 1.07},
        {'Номер карты': '*7197', 'Сумма': 90.0, 'Кэшбэк': 0.9},
        {'Номер карты': '*7197', 'Сумма': 184.73, 'Кэшбэк': 1.85},
        {'Номер карты': '*7197', 'Сумма': 115.6, 'Кэшбэк': 1.16},
        {'Номер карты': '*4556', 'Сумма': 250.0, 'Кэшбэк': 2.5},
        {'Номер карты': '*7197', 'Сумма': 45.0, 'Кэшбэк': 0.45},
        {'Номер карты': '*7197', 'Сумма': 135.0, 'Кэшбэк': 1.35},
        {'Номер карты': '*7197', 'Сумма': 53.0, 'Кэшбэк': 0.53},
        {'Номер карты': '*7197', 'Сумма': 183.6, 'Кэшбэк': 1.84},
        {'Номер карты': '*7197', 'Сумма': 484.0, 'Кэшбэк': 4.84},
        {'Номер карты': '*7197', 'Сумма': 243.0, 'Кэшбэк': 2.43},
        {'Номер карты': '*7197', 'Сумма': 27.0, 'Кэшбэк': 0.27},
        {'Номер карты': '*7197', 'Сумма': 135.0, 'Кэшбэк': 1.35},
        {'Номер карты': '*7197', 'Сумма': 53.0, 'Кэшбэк': 0.53},
        {'Номер карты': '*7197', 'Сумма': 63.0, 'Кэшбэк': 0.63},
        {'Номер карты': '*7197', 'Сумма': 114.84, 'Кэшбэк': 1.15},
        {'Номер карты': '*7197', 'Сумма': 33.7, 'Кэшбэк': 0.34},
        {'Номер карты': '*7197', 'Сумма': 156.38, 'Кэшбэк': 1.56},
        {'Номер карты': '*7197', 'Сумма': 60.0, 'Кэшбэк': 0.6},
        {'Номер карты': '*7197', 'Сумма': 87.0, 'Кэшбэк': 0.87},
        {'Номер карты': '*7197', 'Сумма': 160.2, 'Кэшбэк': 1.6},
        {'Номер карты': '*7197', 'Сумма': 63.9, 'Кэшбэк': 0.64},
        {'Номер карты': '*7197', 'Сумма': 426.6, 'Кэшбэк': 4.27},
        {'Номер карты': '*7197', 'Сумма': 167.31, 'Кэшбэк': 1.67},
        {'Номер карты': '*7197', 'Сумма': 154.8, 'Кэшбэк': 1.55},
        {'Номер карты': '*7197', 'Сумма': 33.7, 'Кэшбэк': 0.34},
        {'Номер карты': 'Отсутствует', 'Сумма': 5000.0,
         'Кэшбэк': 50.0},
        {'Номер карты': '*7197', 'Сумма': 474.0, 'Кэшбэк': 4.74},
        {'Номер карты': '*7197', 'Сумма': 118.0, 'Кэшбэк': 1.18},
        {'Номер карты': '*7197', 'Сумма': 104.0, 'Кэшбэк': 1.04},
        {'Номер карты': '*7197', 'Сумма': 297.48, 'Кэшбэк': 2.97},
        {'Номер карты': '*7197', 'Сумма': 132.7, 'Кэшбэк': 1.33},
        {'Номер карты': '*7197', 'Сумма': 107.96, 'Кэшбэк': 1.08},
        {'Номер карты': '*7197', 'Сумма': 165.5, 'Кэшбэк': 1.66},
        {'Номер карты': '*7197', 'Сумма': 35.95, 'Кэшбэк': 0.36},
        {'Номер карты': 'Отсутствует', 'Сумма': 2140.73,
         'Кэшбэк': 21.41},
        {'Номер карты': 'Отсутствует', 'Сумма': 2155.05,
         'Кэшбэк': 21.55},
        {'Номер карты': '*7197', 'Сумма': 9564.76, 'Кэшбэк': 95.65},
        {'Номер карты': '*7197', 'Сумма': 107.61, 'Кэшбэк': 1.08},
        {'Номер карты': '*7197', 'Сумма': 157.5, 'Кэшбэк': 1.57}],
                                                   'Топ-5 операций:': [
                                                       {'Дата операции': '05.05.2020', 'Сумма': 5000.0,
                                                        'Категория': 'Пополнения',
                                                        'Описание': 'Перевод с карты'},
                                                       {'Дата операции': '02.05.2020', 'Сумма': 2155.05,
                                                        'Категория': 'ЖКХ',
                                                        'Описание': 'ЖКУ Дом'},
                                                       {'Дата операции': '02.05.2020', 'Сумма': 2140.73,
                                                        'Категория': 'ЖКХ',
                                                        'Описание': 'ЖКУ Дом'},
                                                       {'Дата операции': '17.05.2020', 'Сумма': 815.0,
                                                        'Категория': 'Книги',
                                                        'Описание': 'Буквоед'},
                                                       {'Дата операции': '11.05.2020', 'Сумма': 484.0,
                                                        'Категория': 'Различные товары',
                                                        'Описание': 'Улыбка радуги'}],
                                                   'Курс валют:': [{'Валюта': 'USD', 'Цена': 87.64},
                                                                   {'Валюта': 'EUR', 'Цена': 95.46}],
                                                   'Стоимость акций:': [{'Акция': 'GOOGL', 'Цена': 15570.1224},
                                                                        {'Акция': 'AMZN', 'Цена': 16049.5132},
                                                                        {'Акция': 'MSFT', 'Цена': 38308.320400000004},
                                                                        {'Акция': 'AAPL', 'Цена': 19658.5284},
                                                                        {'Акция': 'TSLA', 'Цена': 20963.487999999998}]}


def test_views_second():
    assert info_by_date("20-07-2024 10:10:10") == {'Приветствие': 'Добрый вечер', 'Транзакции': [],
                                                   'Топ-5 операций:': [],
                                                   'Курс валют:': [{'Валюта': 'USD', 'Цена': 87.64},
                                                                   {'Валюта': 'EUR', 'Цена': 95.46}],
                                                   'Стоимость акций:': [{'Акция': 'GOOGL', 'Цена': 15570.1224},
                                                                        {'Акция': 'AMZN', 'Цена': 16049.5132},
                                                                        {'Акция': 'MSFT',
                                                                         'Цена': 38308.320400000004},
                                                                        {'Акция': 'AAPL', 'Цена': 19658.5284},
                                                                        {'Акция': 'TSLA',
                                                                         'Цена': 20963.487999999998}]}
